<!DOCTYPE html>
<html lang="pt-BR">
    <head>
        <meta charset="UTF-8" />
        <title>Cronos Reservas</title>
        <style>
            body
            {
                margin: 0;
                font-family: Arial, Helvetica, sans-serif;
                background-color: cyan;
            }

            .welcome
            {
                display: flex;
                align-items: center;
                gap: 20px;
                padding: 10px;
                border-radius: 5px;
                margin-bottom: 20px;
            }

            .watch
            {
                width: 10.2%;
            }

            .logo
            {
                width: 150px;
                height: 150px;
                
            }

            .reservation
            {
                transform: translateX(60%);
                width: 89.8;
            }

            .titulo
            {
                margin: 0;
            }

            table
            {
                display: table;
                border-collapse: separate;
                box-sizing: border-box;
                text-indent: initial;
                unicode-bidi: isolate;
                border-spacing: 2px;
                border-color: gray;
            }

            th 
            {
                border: 1px solid #000000;
                padding: 10px;
                text-align: left;
                background-color: #817979;
            }
        </style>
    </head>
    <body>
        <header>
            <div class="welcome">
                <img style="width: 10%;" src="/imagem/Logo Cronos.jpeg">
                <h1 style="text-align: center;">Bem-vindo ao Reservas Cronos!</h1>
            </div>
        </header>
        <div class="research">
            <h2>Tabela De Reservas</h2>
            <table>
                <thead>
                  <tr>
                    <th>ID</th>
                    <th>In√≠cio da reserva</th>
                    <th>Fim da reserva</th>
                    <th>Tamanho</th>
                    <th>Nome do local</th>
                    <th>Valor</th>
                    <th>Descri√ß√£o</th>
                  </tr>  
                </thead>
            </table>
        </div>

        <script>
            //const API = "http://localhost:5092/api/livros"; precisa colocar o nosso localhost aqui

            async function carregarReservas() {
                const resposta = await fetch(API);
                const reservas = await resposta.json();
                mostrarReservas(reservas);
            }

    function mostrarReservas(reservas) {
        const tabela = document.getElementById("tabelaReservas");
        tabela.innerHTML = "";
        reservas.forEach(reserva => {
            const linha = document.createElement("tr");
            linha.innerHTML = `
            <td>
                <span class="btn-edit" onclick="preencherFormulario('${reserva.id}', '${reserva.nome}', '${reserva.telefone}', ${reserva.data_inicio}, '${reserva.data_fim}', '${reserva.tamanho}', '${reserva.nome_local}', '${reserva.valor}', '${reserva.descricao}')">‚úèÔ∏è</span>
                <span class="btn-delete" onclick="excluirReserva(${reserva.id})">üóëÔ∏è</span>
            </td>
            <td>${reserva.id}</td>
            <td>${reserva.nome}</td>
            <td>${reserva.telefone}</td>
            <td>${reserva.data_inicio}</td>
            <td>${reserva.data_fim}</td>
            <td>${reserva.tamanho}</td>
            <td>${reserva.nome_local}</td>
            <td>${reserva.valor}</td>
            <td>${reserva.descricao}</td>
            `;
            tabela.appendChild(linha);
        });
  }
        </script>
    </body>
</html>